# Application Configuration
APP_NAME=ninja-payments-reconciler

# Database Configuration
# Format: postgresql://user:password@host:port/database
DATABASE_DSN=postgresql://<user>:<password>@<host>:<port>/<database>

# Reconciliation Service Configuration
RECONCILE_ENABLED=true
RECONCILE_INTERVAL_SECONDS=15
RECONCILE_BATCH_SIZE=100
# Comma-separated list of seconds for retry attempts (e.g., "60,180,900,1800")
RECONCILE_ATTEMPT_OFFSETS=60,180,900,1800
# Comma-separated list of providers to poll (e.g., "webpay,stripe,paypal")
RECONCILE_POLLING_PROVIDERS=webpay,stripe,paypal
ABANDONED_TIMEOUT_MINUTES=60

# CRM Integration Configuration
CRM_ENABLED=true
CRM_BASE_URL=<crm_base_url>
CRM_PAGAR_PATH=/pagar
CRM_AUTH_BEARER=<crm_auth_bearer_token>
CRM_TIMEOUT_SECONDS=10
# Comma-separated list of seconds for CRM retry backoff (e.g., "60,300,1800")
CRM_RETRY_BACKOFF=60,300,1800
CRM_LOG_REQUESTS=true

# Service Heartbeat Configuration
HEARTBEAT_INTERVAL_SECONDS=60

# Webpay Provider Configuration
WEBPAY_STATUS_URL_TEMPLATE=https://webpay3gint.transbank.cl/rswebpaytransaction/api/webpay/v1.2/transactions/{token}
WEBPAY_API_KEY_ID=<webpay_api_key_id>
WEBPAY_API_KEY_SECRET=<webpay_api_key_secret>
WEBPAY_COMMERCE_CODE=<webpay_commerce_code>

# Stripe Provider Configuration
STRIPE_API_KEY=<stripe_api_key>
STRIPE_API_BASE=https://api.stripe.com

# PayPal Provider Configuration
PAYPAL_CLIENT_ID=<paypal_client_id>
PAYPAL_CLIENT_SECRET=<paypal_client_secret>
PAYPAL_BASE_URL=https://api.paypal.com